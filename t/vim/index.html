<!doctype html><head>
        <meta charset="utf-8">
        <title>Vim</title>
        <meta name="description" content="Заметка про VIM">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta property="og:title" content="Vim">
        <meta property="og:description" content="Заметка про VIM">
        <meta property="twitter:title" content="Vim">
        <meta property="twitter:description" content="Заметка про VIM">
        <meta property="twitter:creator" content="@voischev">
        <link rel="canonical" href="https://voischev.ru/t/vim/">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="author" href="/humans.txt">
        <link rel="stylesheet" href="/style.css">
    </head><body><nav>
            <a href="/"><img src="/avatar.jpg" alt="Ваня Воищев">Ваня Воищев</a>
            <a href="/t/">Заметки</a>
            <a href="/invest/">Инвестиции</a>
            <a href="/knigi/">Книги</a>
            <a href="https://twitter.com/voischev" target="_blank">Твиттер</a>
            <a href="mailto:voischev.ivan@ya.ru">Почта</a>
        </nav><main><article><h1 id="vim">Vim</h1>
<p>Заметка про VIM</p>
<p><img src="vim.png" alt="Горячие клавиши в Vim"></p>
<h2 id="форматирование">Форматирование:</h2>
<p>Для не отформатированных файлов</p>
<pre><code>:!js-beautify % -o %</code></pre><p>Использование prettier</p>
<pre><code>nnoremap &lt;C-f&gt; :silent exec &quot;!npx prettier % --write --trailing-comma=all --single-quote=true --print-width=100&quot;&lt;cr&gt; :redraw!&lt;cr&gt;</code></pre><h2 id="буферы">Буферы</h2>
<p>Fuzzy поиск по именам файлов (в открытых буферах).</p>
<pre><code>:b fuzzy</code></pre><p>Настраиваем горячу клавишу, например <Leader>f:</Leader></p>
<pre><code>nnoremap &lt;Leader&gt;f :set nomore&lt;Bar&gt;:ls&lt;Bar&gt;:set more&lt;CR&gt;:b&lt;Space&gt;</code></pre><h2 id="git">Git</h2>
<p>Git Blame для выделенной, в VISUAL MODE, части текста</p>
<pre><code>vnoremap &lt;Leader&gt;b :&lt;C-U&gt;!git blame &lt;C-R&gt;=expand(&quot;%:p&quot;) &lt;CR&gt; \| sed -n &lt;C-R&gt;=line(&quot;&#39;&lt;&quot;) &lt;CR&gt;,&lt;C-R&gt;=line(&quot;&#39;&gt;&quot;) &lt;CR&gt;p &lt;CR&gt;</code></pre><h2 id="опции-vim">Опции VIM</h2>
<p>При открытии файла установить курсор в последней позиции</p>
<pre><code>au BufReadPost * if line(&quot;&#39;\&quot;&quot;) &gt; 0|if line(&quot;&#39;\&quot;&quot;) &lt;= line(&quot;$&quot;)|exe(&quot;norm &#39;\&quot;&quot;)|else|exe &quot;norm $&quot;|endif|endif</code></pre><p>Автоматически удалять висячие пробелы при сохранении</p>
<pre><code>autocmd BufWritePre *.{bemhtml,bemtree,js,c,css} :%s/\s\+$//e</code></pre><p>Центровать результат поиска всегда по центру</p>
<pre><code>nnoremap n nzz
nnoremap N Nzz
nnoremap * *zz
nnoremap # #zz
nnoremap g* g*zz
nnoremap g# g#zz</code></pre><p>Загрузить предыдущую сессию</p>
<pre><code>set viminfo=&#39;10,\&quot;100,:20,%,n~/.viminfo</code></pre><p>Поставить курсор на предыдущую позицию открывая файл</p>
<pre><code>au BufReadPost * if line(&quot;&#39;\&quot;&quot;) &gt; 0|if line(&quot;&#39;\&quot;&quot;) &lt;= line(&quot;$&quot;)|exe(&quot;norm &#39;\&quot;&quot;)|else|exe &quot;norm $&quot;|endif|endif</code></pre><p>Изменять директорию до места где находится редактируемый файл</p>
<pre><code>autocmd BufEnter * lcd %:p:h</code></pre><h2 id="поиск">Поиск</h2>
<p>Найти слово над которым курсор</p>
<pre><code>*</code></pre><p>Поиск по файлам</p>
<pre><code>:grep PATERN [PATH] | :copen</code></pre><p>Открыть список с результатами поиска по файлам</p>
<pre><code>:copen
:cw</code></pre><h2 id="текст">Текст</h2>
<p>Записать выделенный текст в файл</p>
<pre><code>:&#39;&lt;,&#39;&gt;w text.txt</code></pre><p>Перейти к последнему выделенному фрагменту текста</p>
<pre><code>gv</code></pre><p>Выравнивание текста</p>
<pre><code>:center [width]
:right [width]
:left</code></pre><p>Таблица с символами</p>
<pre><code>:help digraph-table</code></pre><p>В режиме редактирования через CTRL+k</p>
<pre><code>«   &lt;&lt;
»   &gt;&gt;
—   M-
©   Co
®   Rg
±   +-
λ   l*
π   p*
δ   d*</code></pre><h2 id="функции">Функции</h2>
<p>В режиме редактирования активируем калькулятор CTRL+r+= вводим выражение, жмём Enter</p>
<pre><code>CTRL+r+=512/2 Enter
256</code></pre><p>Сортировка по длине строк</p>
<pre><code>:&#39;&lt;,&#39;&gt; ! awk &#39;{ print length(), $0 | &quot;sort -n | cut -d\\ -f2-&quot; }&#39;</code></pre><h2 id="синтаксис">Синтаксис</h2>
<p>Открыть файл без расширения с нужным синтаксисом. Добавить в конец файла комментарий</p>
<pre><code># vim: syntax=config</code></pre><h2 id="ссылки">Ссылки</h2>
<ul>
<li><a href="https://danielmiessler.com/study/vim/">danielmiessler.com/study/vim/</a></li>
<li><a href="https://github.com/mathiasbynens/dotfiles">mathiasbynens/dotfiles</a></li>
<li><a href="https://github.com/mpyatishev">mpyatishev</a></li>
<li><a href="https://github.com/mislav/vimfiles/blob/master/vimrc">mislav/vimfiles</a></li>
<li><a href="https://github.com/gmarik/vimfiles">gmarik/vimfiles</a></li>
<li><a href="https://github.com/swaroopch/dotvim/blob/master/vimrc">swaroopch/dotvim</a></li>
<li><a href="https://github.com/madundead/stuff/blob/master/dotfiles/vim/vimrc.symlink">swaroopch/dotvim</a></li>
</ul>
</article><div><time datetime="2020-05-06T16:29:43.000Z">2020-05-06</time> последнее изменение</div></main><img src="https://mc.yandex.ru/watch/58298050" style="position:absolute; left:-9999px;" alt=""></body>